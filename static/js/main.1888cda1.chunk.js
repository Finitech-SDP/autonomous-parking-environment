(this["webpackJsonpoperations-monitor"]=this["webpackJsonpoperations-monitor"]||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/racecar.e66ab204.svg"},130:function(e,t,a){e.exports=a.p+"static/media/parking-sign.013e9a4f.svg"},131:function(e,t,a){e.exports=a.p+"static/media/robot.3f20bb4e.svg"},132:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(25),l=a.n(r),o=a(79),h=a(36),c=a(37),d=a(44),s=a(38),u=a(45),y=a(33),g=a(11);var p=function(e){var t=e.robotPath,a=e.parkingLotOffset,i=e.debugGridCellSize,r=[];return t.forEach((function(e){var t=a.x+e.i*i.width+i.width/2,n=a.y+e.j*i.height+i.height/2;r.push(t),r.push(n)})),n.a.createElement(n.a.Fragment,null,n.a.createElement(g.Arrow,{points:r,shadowBlur:3,stroke:"black",strokeWidth:1.5}))},m=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(s.a)(t).call(this))).state={time:(new Date).toLocaleString()},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:(new Date).toLocaleString()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return n.a.createElement("h3",null," ",this.state.time," ")}}]),t}(n.a.Component),b=a(68),x=a(30),w=a.n(x),f=a(129),v=a(130);var k=function(e){var t=e.spacesAvailable,a=e.debugGridCellSize,i=e.offset,r=e.debugMode,l=w()(f),o=Object(y.a)(l,1)[0],h=w()(v),c=Object(y.a)(h,1)[0];return b.map((function(e,l){var h=null,d=null,s=!1;switch(e.type){case"parking":h=n.a.createElement(g.Group,{key:l},n.a.createElement(g.Rect,{x:i.x+e.x*a.width,y:i.y+e.y*a.height,width:a.width,height:a.height,fillRadialGradientStartPoint:{x:a.width/2,y:a.height/2},fillRadialGradientEndPoint:{x:a.width/2,y:a.height/2},fillRadialGradientStartRadius:a.width>a.height?a.height:a.width,fillRadialGradientColorStops:t.includes("R"+e.y+"C"+e.x)?[0,"rgba(63,145,60)",1,"rgba(103,233,98)"]:[0,"rgba(141,38,38)",1,"rgba(230,67,67)"],shadowBlur:5,stroke:"black",strokeWidth:3}),n.a.createElement(g.Image,{x:i.x+e.x*a.width+100,y:i.y+e.y*a.height+30,image:c,shadowBlur:5}),t.includes("R"+e.y+"C"+e.x)?null:n.a.createElement(g.Image,{x:i.x+e.x*a.width+30,y:i.y+e.y*a.height-53,image:o,shadowBlur:5})),d="Parking space",s=!0;break;case"hub":h=n.a.createElement(n.a.Fragment,null,n.a.createElement(g.Rect,{x:i.x+e.x*a.width,y:i.y+e.y*a.height,width:a.width,height:a.height,fillRadialGradientStartPoint:{x:a.width/2,y:a.height/2},fillRadialGradientEndPoint:{x:a.width/2,y:a.height/2},fillRadialGradientStartRadius:a.width>a.height?a.height:a.width,fillRadialGradientColorStops:[0,"rgb(14, 82, 165)",1,"rgb(19, 115, 236)"],shadowBlur:5,stroke:"black",strokeWidth:3}),t.includes("R"+e.y+"C"+e.x)?null:n.a.createElement(g.Image,{x:i.x+e.x*a.width+30,y:i.y+e.y*a.height-53,image:o,shadowBlur:5})),d="Hub",s=!0;break;case"road":d="Road";break;case"blocked":d="Blocked space"}return n.a.createElement(g.Group,{key:l},h,r?n.a.createElement(g.Group,null,n.a.createElement(g.Rect,{x:i.x+e.x*a.width,y:i.y+e.y*a.height,width:a.width,height:a.height,fill:"rgba(255, 255, 255, 0.3)",shadowBlur:5,stroke:"black",strokeWidth:3}),n.a.createElement(g.Text,{x:i.x+e.x*a.width+a.width/10,y:i.y+e.y*a.height+a.height/5,text:"R"+e.y+"C"+e.x+" ("+d+")",fontSize:20}),n.a.createElement(g.Text,{x:i.x+e.x*a.width+a.width/10,y:i.y+e.y*a.height+a.height/2+30,text:s?"Status: "+("hub"===e.type?t.includes("R"+e.y+"C"+e.x)?"Available":"Awaiting Parking":"parking"===e.type?t.includes("R"+e.y+"C"+e.x)?"Available":"Occupied":null):null,fontSize:20})):null)}))},E=a(131);var R=function(e){var t=e.spacesAvailable,a=e.debugMode,i=e.robotPath,r=e.robotLocation,l={height:750,width:401.4/288*750},o={x:(window.innerWidth-30)/2-l.width/2,y:30},h={height:l.height/6,width:l.width/4},c=w()(E),d=Object(y.a)(c,1)[0];return n.a.createElement("div",{className:"App"},n.a.createElement(m,null),n.a.createElement(g.Stage,{width:1800,height:835},n.a.createElement(g.Layer,null,n.a.createElement(g.Shape,{x:o.x,y:o.y,sceneFunc:function(e,t){e.beginPath(),e.moveTo(250,0),e.lineTo(250,250),e.lineTo(0,250),e.lineTo(0,l.height),e.lineTo(l.width,l.height),e.lineTo(l.width,0),e.closePath(),e.fillStrokeShape(t)},fillRadialGradientStartPoint:{x:l.width/2,y:l.height/2},fillRadialGradientEndPoint:{x:l.width/2,y:l.height/2},fillRadialGradientStartRadius:l.width>l.height?l.height:l.width,fillRadialGradientColorStops:[0,"rgb(190, 190, 190)",1,"rgb(255, 255, 255)"],stroke:"black",strokeWidth:5}),n.a.createElement(k,{spacesAvailable:t,debugMode:a,debugGridCellSize:h,offset:o}),n.a.createElement(p,{debugGridCellSize:h,robotPath:i,parkingLotOffset:o}),n.a.createElement(g.Image,{x:o.x+r.x*h.width+80,y:o.y+r.y*h.height,scale:{x:.8,y:.8},image:d,shadowBlur:5}))))};var C=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h3",{className:"mb-3"}," CCTV camera ")))};var S=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h3",null," Live stream from onboard Raspberry Pi cameras to be placed here")))},j=(a(132),a(69)),O=a(21),G=a(145),A=a(146),P=a(144),M=(a(133),function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(s.a)(t).call(this))).state={spacesAvailable:["R0C1","R1C1","R0C3","R1C3","R2C0","R3C0"],robotLocation:{x:0,y:5},robotPath:[{i:0,j:5},{i:2,j:5},{i:2,j:4},{i:2,j:3},{i:2,j:2},{i:2,j:1},{i:3,j:1}],debugMode:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggleSpaceAvailable",value:function(e){var t=Object(o.a)(this.state.spacesAvailable);t[e]=!t[e],this.setState({spacesAvailable:t})}},{key:"toggleDebugMode",value:function(){this.setState({debugMode:!this.state.debugMode})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return n.a.createElement(j.a,null,n.a.createElement(G.a,{bg:"primary",variant:"dark",sticky:"top"},n.a.createElement(G.a.Brand,null,"Finitech Operations Monitor"),n.a.createElement(A.a,{className:"mr-auto"},n.a.createElement(P.a,{title:"Parking Lot",id:"collasible-nav-dropdown"},n.a.createElement(P.a.Item,{href:"#/"},"View"),n.a.createElement(P.a.Divider,null),n.a.createElement(P.a.Item,{onClick:function(){e.toggleDebugMode()}},"Debug Mode")),n.a.createElement(P.a,{title:"Cameras",id:"collasible-nav-dropdown"},n.a.createElement(P.a.Item,{href:"#/overhead"},"CCTV"),n.a.createElement(P.a.Item,{href:"#/onboard"},"Onboard")))),n.a.createElement(O.c,null,n.a.createElement(O.a,{path:"/overhead"},n.a.createElement(C,null)),n.a.createElement(O.a,{path:"/onboard"},n.a.createElement(S,null)),n.a.createElement(O.a,{path:"/"},n.a.createElement(R,{robotLocation:this.state.robotLocation,robotPath:this.state.robotPath,debugMode:this.state.debugMode,spacesAvailable:this.state.spacesAvailable}))))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e){e.exports=JSON.parse('[{"x":0,"y":0,"type":"blocked"},{"x":1,"y":0,"type":"parking"},{"x":2,"y":0,"type":"road"},{"x":3,"y":0,"type":"parking"},{"x":0,"y":1,"type":"blocked"},{"x":1,"y":1,"type":"parking"},{"x":2,"y":1,"type":"road"},{"x":3,"y":1,"type":"parking"},{"x":0,"y":2,"type":"hub"},{"x":1,"y":2,"type":"road"},{"x":2,"y":2,"type":"road"},{"x":3,"y":2,"type":"parking"},{"x":0,"y":3,"type":"hub"},{"x":1,"y":3,"type":"road"},{"x":2,"y":3,"type":"road"},{"x":3,"y":3,"type":"parking"},{"x":0,"y":4,"type":"hub"},{"x":1,"y":4,"type":"road"},{"x":2,"y":4,"type":"road"},{"x":3,"y":4,"type":"parking"},{"x":0,"y":5,"type":"hub"},{"x":1,"y":5,"type":"road"},{"x":2,"y":5,"type":"road"},{"x":3,"y":5,"type":"parking"}]')},80:function(e,t,a){e.exports=a(141)}},[[80,1,2]]]);
//# sourceMappingURL=main.1888cda1.chunk.js.map