(this["webpackJsonpoperations-monitor"]=this["webpackJsonpoperations-monitor"]||[]).push([[0],{135:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),l=a.n(i),o=a(83),c=a(37),s=a(38),h=a(49),d=a(39),m=a(50),u=a(10);var g=function(e){return n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:e.x,y:e.y,width:e.width,height:e.height,fillRadialGradientStartPoint:{x:e.width/2,y:e.height/2},fillRadialGradientEndPoint:{x:e.width/2,y:e.height/2},fillRadialGradientStartRadius:e.width>e.height?e.height:e.width,fillRadialGradientColorStops:e.available?[0,"rgba(63,145,60)",1,"rgba(103,233,98)"]:[0,"rgba(141,38,38)",1,"rgba(230,67,67)"],shadowBlur:5,stroke:"black",strokeWidth:3}),n.a.createElement(u.Text,{x:e.x+e.width/2-5,y:e.y+e.height/2-10,text:e.id,fontSize:20}))};var p=function(e){var t=e.horizontal?150:80,a=e.horizontal?80:150,r=e.slice[0];return n.a.createElement(n.a.Fragment,null,e.spaces.slice(e.slice[0],e.slice[1]).map((function(i,l){return r++,n.a.createElement(g,{key:r,id:r,available:i,x:e.offset.x+(t+3)*(l%e.columns),y:e.offset.y+(a+3)*Math.floor(l/e.columns),width:t,height:a})})))};var f=function(e){var t,a,r={height:e.parkingLotSize.height/e.gridDimentions.rows,width:e.parkingLotSize.width/e.gridDimentions.columns},i=(Object.freeze({"blocking-space":1,road:2,"available-parking":3,"available-dropoff":3,"car-awaiting-pickup":3,"car-awaiting-owner":3,"robot-location":3}),[]);for(t=0;t<e.gridDimentions.columns;t++)for(a=0;a<e.gridDimentions.rows;a++){var l=a+e.gridDimentions.rows*t,o=e.parkingLotOffset.x+t*r.width,c=e.parkingLotOffset.y+a*r.height,s=void 0;o<e.parkingLotOffset.x+e.upperLeftSquareSide&&e.parkingLotOffset.y+c<e.upperLeftSquareSide&&(s=e.stringColors.red),5===t&&a===e.gridDimentions.rows-2&&(s=e.stringColors.black),t===e.gridDimentions.columns-4&&a===e.gridDimentions.rows-1&&(s=e.stringColors.orange),t>=e.gridDimentions.columns-3&&a===e.gridDimentions.rows-1&&(s=e.stringColors.blue),t<=2&&a>=2&&(s=e.stringColors.green),i.push(n.a.createElement(u.Rect,{key:l,x:o,y:c,width:r.width,height:r.height,fill:s,shadowBlur:3,stroke:"black",strokeWidth:.5}))}return n.a.createElement(n.a.Fragment,null,i)},b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={time:(new Date).toLocaleString()},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({time:(new Date).toLocaleString()})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return n.a.createElement("h3",null," ",this.state.time," ")}}]),t}(n.a.Component),E=a(143);var k=function(e){var t={height:730,width:1575},a={x:150,y:10};return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement(E.a,null,n.a.createElement(b,null)),n.a.createElement(u.Stage,{width:1900,height:750},n.a.createElement(u.Layer,null,n.a.createElement(u.Shape,{x:a.x,y:a.y,sceneFunc:function(e,a){e.beginPath(),e.moveTo(275,0),e.lineTo(275,275),e.lineTo(0,275),e.lineTo(0,t.height),e.lineTo(t.width,t.height),e.lineTo(t.width,0),e.closePath(),e.fillStrokeShape(a)},fill:"white",stroke:"black",strokeWidth:5}),n.a.createElement(p,{columns:8,horizontal:!0,offset:{x:a.x+275,y:a.y},spaces:e.spacesAvailable,slice:[0,16]}),n.a.createElement(p,{columns:3,horizontal:!1,offset:{x:a.x,y:a.y+275},spaces:e.spacesAvailable,slice:[16,25]}),e.debugMode?n.a.createElement(f,{stringColors:e.stringColors,upperLeftSquareSide:275,gridDimentions:{rows:5,columns:19},parkingLotSize:t,parkingLotOffset:a}):null))))},v=a(148),w=a(146),y=a(144);var x=function(e){var t=n.a.createElement(v.a,{id:"popover-basic"},n.a.createElement(v.a.Title,{as:"h3"},"Legend"),n.a.createElement(v.a.Content,null,n.a.createElement(u.Stage,{width:240,height:280},n.a.createElement(u.Layer,null,n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:5,width:30,height:30,fill:e.stringColors.red,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:10,text:"Blocking Space",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:45,width:30,height:30,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:50,text:"Road",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:85,width:30,height:30,fill:e.stringColors.green,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:90,text:"Available Parking",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:125,width:30,height:30,fill:e.stringColors.blue,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:130,text:"Available Dropoff",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:165,width:30,height:30,fill:e.stringColors.orange,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:170,text:"Car Awaiting Pickup",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:205,width:30,height:30,fill:e.stringColors.purple,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:210,text:"Car Awaiting Owner",fontSize:20})),n.a.createElement(u.Group,null,n.a.createElement(u.Rect,{x:5,y:245,width:30,height:30,fill:e.stringColors.black,shadowBlur:3,stroke:"black",strokeWidth:.5}),n.a.createElement(u.Text,{x:45,y:250,text:"Robot Location",fontSize:20}))))));return n.a.createElement(w.a,{placement:"right",delay:{show:150,hide:150},overlay:t},n.a.createElement(y.a.Item,null,"Debug Legend"))},S=a(79),C=a.n(S);var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h3",{className:"mb-3"}," Overhead camera "),n.a.createElement(C.a,{audio:!1,videoConstraints:{width:1280,height:720,facingMode:"user"}})))};var D=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h3",null," Live stream from onboard Raspberry Pi cameras to be placed here")))},A=(a(135),a(80)),L=a(23),R=a(145),z=a(147),T=(a(136),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).stringColors={green:"rgba(103, 233, 98, 0.22)",red:"rgba(228, 27, 65, 0.22)",blue:"rgba(34, 81, 221, 0.22)",orange:"rgba(236, 140, 19, 0.22)",black:"rgba(50, 50, 50, 0.22)",purple:"rgba(94, 0, 255, 0.22)"},e.state={spacesAvailable:new Array(25).fill(!0),debugMode:!1},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggleSpaceAvailable",value:function(e){var t=Object(o.a)(this.state.spacesAvailable);t[e]=!t[e],this.setState({spacesAvailable:t})}},{key:"toggleDebugMode",value:function(){this.setState({debugMode:!this.state.debugMode})}},{key:"componentDidMount",value:function(){this.toggleSpaceAvailable(4)}},{key:"render",value:function(){var e=this;return n.a.createElement(A.a,null,n.a.createElement(R.a,{bg:"primary",variant:"dark",sticky:"top"},n.a.createElement(R.a.Brand,null,"Finitech Operations Monitor"),n.a.createElement(z.a,{className:"mr-auto"},n.a.createElement(y.a,{title:"Parking Lot",id:"collasible-nav-dropdown"},n.a.createElement(y.a.Item,{href:"#/"},"View"),n.a.createElement(y.a.Divider,null),n.a.createElement(y.a.Item,{onClick:function(){e.toggleDebugMode()}},"Debug Mode"),n.a.createElement(x,{stringColors:this.stringColors})),n.a.createElement(y.a,{title:"Cameras",id:"collasible-nav-dropdown"},n.a.createElement(y.a.Item,{href:"#/overhead"},"Overhead"),n.a.createElement(y.a.Item,{href:"#/onboard"},"Onboard")))),n.a.createElement(L.c,null,n.a.createElement(L.a,{path:"/overhead"},n.a.createElement(O,null)),n.a.createElement(L.a,{path:"/onboard"},n.a.createElement(D,null)),n.a.createElement(L.a,{path:"/"},n.a.createElement(k,{debugMode:this.state.debugMode,stringColors:this.stringColors,spacesAvailable:this.state.spacesAvailable}))))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){e.exports=a(141)}},[[84,1,2]]]);
//# sourceMappingURL=main.e90abd52.chunk.js.map